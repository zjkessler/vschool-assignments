<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
	<meta charset="UTF-8">
	<title>Angular Todo</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<link rel="stylesheet" href="styles.css">
</head>

<body ng-controller="myCtrl">

	<div class="container">
		<div class="row">
			<div class="col-sm-6 col-sm-offset-3 well ">

				<form action="" class="form-group" name="myform">

					<h1 class="text-center">My Todo List</h1>

					<input type="text" class="form-control check" name="title" placeholder="Title" ng-model="todo.title" ng-required="true">
					<p class="text-center error" ng-show="myform.title.$invalid && myform.title.$touched">Please enter a title</p>

					<input type="number" class="form-control" placeholder="Price" ng-model="todo.price">

					<input type="text" class="form-control" placeholder="Description" ng-model="todo.description">

					<input type="text" class="form-control" placeholder="Image URL" ng-model="todo.imgUrl">

					<button class="btn btn-primary pull-right" ng-click="addTodo(todo)">Add Todo</button>

				</form>
			</div>
			<div class="row">

				<div class="col-sm-6 col-sm-offset-3" ng-repeat='item in allList track by $index'>
					<div class="card">
						<div class="row">
							<div class="col-sm-1">
								<input type="checkbox" ng-model="item.completed" class="form-control">
							</div>
							<div class="col-sm-11">
								<h4 ng-class="{'completed': item.completed}" class="todoLine" ng-hide="editing">{{ item.title }}</h4>
								<input type="text" ng-model="item.title" ng-show="editing">

								<p ng-show="item.price" ng-class="{'completed': item.completed}" class="todoLine">$ {{ item.price }}</p>
								<input type="number" ng-model="item.price" ng-show="editing" placeholder="Price">

								<p ng-class="{'completed': item.completed}" ng-hide="editing" class="todoLine">{{ item.description }}</p>
								<input type="text" ng-model="item.description" ng-show="editing" placeholder="Description">

							</div>
						</div>
						<div class="row">
							<div class="col-sm-10">
								<img ng-src="{{ item.imgUrl }}">
							</div>

							<div class="col-sm-2">
								<button ng-click='editing = !editing' class="btn btn-xs btn-primary pull-right"><i class='glyphicon glyphicon-edit'></i></button>

								<button ng-show="editing" ng-click='updateTodo(item); !editing' class="btn btn-xs btn-success pull-right"><i class='glyphicon glyphicon-save'></i></button>

								<button ng-hide="editing" ng-click='delete(item, $index)' class="btn btn-xs btn-danger pull-right"><i class='glyphicon glyphicon-trash'></i></button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.js"></script>
	<script src="script.js"></script>
</body>

</html>